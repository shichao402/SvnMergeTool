---
alwaysApply: true
---
# 开发规则

## 日志服务优先

每个新组件必须首先实现日志系统。

## 调试模式

开发阶段默认启用调试模式和日志文件写入。

## 日志自动清理

- 保留最近10个日志文件
- 单个文件<10MB
- 总大小<50MB

## 构建和部署规则（强制）

### 使用预置脚本（强制）

AI必须使用项目中已有的脚本，不得手动查找工具路径。

**部署命令：**

```bash
./scripts/deploy.sh
```

此脚本会：
- 检查Flutter环境
- 构建应用（`flutter build`）
- 安装到设备（`flutter install`）
- 启动应用（`flutter run`）

### 禁止行为

- ❌ 手动查找Flutter CLI路径
- ❌ 手动执行Flutter CLI命令
- ❌ 不使用预置脚本
- ✅ 必须使用scripts目录中的部署脚本

## 实施状态

### 日志系统
- [x] Logger
- [x] 独立日志文件
- [x] 错误堆栈跟踪
- [x] 日志收集脚本

### 脚本系统
- [x] 部署脚本
- [x] 日志收集脚本
